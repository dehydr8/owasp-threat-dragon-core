<form name="elementPropertiesEditForm">
    <div>
        <div class="form-group">
            <label>Name</label>
            <input name="nameInput" class="form-control" type="text" ng-model="selected.name" ng-change="edit()" placeholder="Element name" />
        </div>
    </div>
    <div class="checkbox">
        <label>
            <input name="checkboxOutOfScope" type="checkbox" ng-model="selected.outOfScope" ng-change="edit()" /> Out of scope
        </label>
    </div>
    <div class="form-group">
        <label>Reason for out of scope</label>
        <textarea name="textareaReasonOutOfScope" ng-disabled="!selected.outOfScope" rows="4" class="form-control" type="text" ng-model="selected.reasonOutOfScope" ng-change="edit()" placeholder="Reason for out of scope"></textarea>
    </div>
    <div ng-show="elementType === 'tm.Process'">
        <div class="form-group">
            <label>Privilege level</label>
            <input name="privilegeLevelInput" ng-disabled="selected.outOfScope" class="form-control" type="text" ng-model="selected.privilegeLevel" ng-change="edit()" placeholder="Privilege level" />
        </div>
    </div>
    <div ng-show="elementType === 'tm.Actor'">
        <div class="checkbox">
            <label>
                <input name="checkboxProvidesAuthentication" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.providesAuthentication" ng-change="edit()" /> Provides authentication
            </label>
        </div>
    </div>
    <div ng-show="elementType === 'tm.Store'">
        <div class="checkbox">
            <label>
                <input name="checkboxIsALog" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isALog" ng-change="edit()" /> Is a log
            </label>
        </div>
        <div class="checkbox">
            <label>
                <input name="checkboxStoresCredentials" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.storesCredentials" ng-change="edit()" /> Stores credentials
            </label>
        </div>
        <div class="checkbox">
            <label>
                <input name="checkboxIsEncryptedStore" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isEncrypted" ng-change="edit()" /> Is encrypted
            </label>
        </div>
        <div class="checkbox">
            <label>
                <input name="checkboxIsSigned" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isSigned" ng-change="edit()" /> Is signed
            </label>
        </div>
    </div>
    <div ng-show="elementType === 'tm.Flow'">
        <div class="form-group">
            <label>Protocol</label>
            <input name="inputProtocol" ng-disabled="selected.outOfScope" class="form-control" type="text" ng-model="selected.protocol" ng-change="edit()" placeholder="Protocol" />
        </div>
        <div class="checkbox">
            <label>
                <input name="checkboxIsEncryptedFlow" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isEncrypted" ng-change="edit()" /> Is encrypted
            </label>
        </div>
        <div class="checkbox">
            <label>
                <input name="checkboxIsPublicNetwork" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isPublicNetwork" ng-change="edit()" /> Is over a public network
            </label>
        </div>
        <div class="form-group">
            <label>Data Elements</label>
            <div ng-repeat="element in selected.dataElements" ng-form="diagramSubForm">
                <div class="input-group">
                    <input name="diagramTitle" class="form-control" type="text" ng-model="element" required placeholder="Element" />
                    <span class="input-group-btn">
                        <button class="btn btn-default" data-toggle="tooltip" ng-click="vm.removeDataElement($index)" data-placement="top" title="Remove" aria-hidden="true" type="button">
                        <span class="glyphicon glyphicon-remove"></span>
                    </button>
                    </span>
                </div>
            </div>
            <div ng-repeat-end>
                <div class="input-group" ng-show="vm.addingDataElement">
                    <input class="form-control" type="text" ng-model="vm.newDataElement" placeholder="Data Element" />
                    <span class="input-group-btn">
                        <button class="btn btn-default" ng-disabled="vm.newDataElement.length == 0" data-toggle="tooltip" ng-click="vm.addDataElement()" data-placement="top" title="Add" aria-hidden="true" type="button">
                            <span class="glyphicon glyphicon-plus"></span>
                        </button>
                    </span>
                </div>
                <button ng-show="vm.addingDataElement" class="btn btn-link" data-toggle="tooltip" ng-click="vm.cancelAddingDataElement()" data-placement="top" title="Cancel" aria-hidden="true" type="button">
                    <span class="glyphicon glyphicon-remove"></span> Cancel
                </button>
                <div ng-hide="vm.addingDataElement">
                    <button class="btn btn-link" ng-click="vm.startAddingDataElement()">
                        <span class="glyphicon glyphicon-plus"></span> Add a new element ...
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
